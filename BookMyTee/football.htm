<html>
<head>
<title>Football Jerseys</title>
<link rel="stylesheet" href="football.css"/>
<script>
  function getAllItems() {
      var timeLog = ""; //the variable that will hold our html
      var i = 0;
      var logLength = localStorage.length-1; //how many items are in the database starting with zero
		var name=document.getElementById("username").value;
		var pass=document.getElementById("password").value;
	  	var r=0;
	  	if(name==""||name=="Username"||pass=="")
		{
		alert("Fields: blank or invalid");
		}
	  	else
	  		{
      
		//now we are going to loop through each item in the database
      for (i = 0; i <= logLength; i++) {
			
          //lets setup some variables for the key and values
          var itemKey = localStorage.key(i);
          var values = localStorage.getItem(itemKey);
          values = values.split(";"); //create an array of the values
          var project = values[0];
          
          var date = values[1];
			
			if(name==project && date==pass)
			{
				r=1;
			}
      }
		if(r==1)
		{
			sessionStorage.setItem("username",name);
			sessionStorage.setItem("bulls","off");
			sessionStorage.setItem("celtics","off");
			sessionStorage.setItem("clippers","off");
			sessionStorage.setItem("csk","off");
			sessionStorage.setItem("dd","off");
			sessionStorage.setItem("heats","off");
			sessionStorage.setItem("iniesta","off");
			sessionStorage.setItem("k11p","off");
			sessionStorage.setItem("kaka","off");
			sessionStorage.setItem("kkr","off");
			sessionStorage.setItem("lakers","off");
			sessionStorage.setItem("lampard","off");
			sessionStorage.setItem("mata","off");
			sessionStorage.setItem("mi","off");
			sessionStorage.setItem("nets","off");
			sessionStorage.setItem("newyork","off");
			sessionStorage.setItem("orleans","off");
			sessionStorage.setItem("pacers","off");
			sessionStorage.setItem("pwi","off");
			sessionStorage.setItem("ramos","off");
			sessionStorage.setItem("rcb","off");
			sessionStorage.setItem("ronaldo","off");
			sessionStorage.setItem("rooney","off");
			sessionStorage.setItem("scholes","off");
			sessionStorage.setItem("srh","off");
			sessionStorage.setItem("torres","off");
			sessionStorage.setItem("xavi","off");
			alert("Successful Login !");
			window.location.href="football.htm"; //this wont work :(((((((
		}
		else
		{
			alert("Username or Password Incorrect.. Make sure you are registered with us !");
			window.location.href="football.htm";
		}
	 	
	  		}
  }
 
  function logout()
	
	{
		var i,itemKey,value,r=0;
		for(i=0;i<sessionStorage.length;i++)
			{
			itemKey=sessionStorage.key(i);
			value=sessionStorage.getItem(itemKey);
			if(value=="on")
				{
				r=1;
				}
			}
		if(r==1)
			{
	  var answer=confirm("Your cart will be emptied.. You sure want to logout?");
		if(answer==true)		
	{			
		sessionStorage.removeItem("bulls");
			sessionStorage.removeItem("celtics");
			sessionStorage.removeItem("clippers");
			sessionStorage.removeItem("csk");
			sessionStorage.removeItem("dd");
			sessionStorage.removeItem("heats");
			sessionStorage.removeItem("iniesta");
			sessionStorage.removeItem("k11p");
			sessionStorage.removeItem("kaka");
			sessionStorage.removeItem("kkr");
			sessionStorage.removeItem("lakers");
			sessionStorage.removeItem("lampard");
			sessionStorage.removeItem("mata");
			sessionStorage.removeItem("mi");
			sessionStorage.removeItem("nets");
			sessionStorage.removeItem("newyork");
			sessionStorage.removeItem("orleans");
			sessionStorage.removeItem("pacers");
			sessionStorage.removeItem("pwi");
			sessionStorage.removeItem("ramos");
			sessionStorage.removeItem("rcb");
			sessionStorage.removeItem("ronaldo");
			sessionStorage.removeItem("rooney");
			sessionStorage.removeItem("scholes");
			sessionStorage.removeItem("srh");
			sessionStorage.removeItem("torres");
			sessionStorage.removeItem("xavi");
		alert("successfully logged out");
		window.location.href="store.htm";
	}
		else
			{
				alert("Please Checkout !!");	
				window.location.href="book.htm"
			}
			}
		else
			{
			sessionStorage.removeItem("bulls");
			sessionStorage.removeItem("celtics");
			sessionStorage.removeItem("clippers");
			sessionStorage.removeItem("csk");
			sessionStorage.removeItem("dd");
			sessionStorage.removeItem("heats");
			sessionStorage.removeItem("iniesta");
			sessionStorage.removeItem("k11p");
			sessionStorage.removeItem("kaka");
			sessionStorage.removeItem("kkr");
			sessionStorage.removeItem("lakers");
			sessionStorage.removeItem("lampard");
			sessionStorage.removeItem("mata");
			sessionStorage.removeItem("mi");
			sessionStorage.removeItem("nets");
			sessionStorage.removeItem("newyork");
			sessionStorage.removeItem("orleans");
			sessionStorage.removeItem("pacers");
			sessionStorage.removeItem("pwi");
			sessionStorage.removeItem("ramos");
			sessionStorage.removeItem("rcb");
			sessionStorage.removeItem("ronaldo");
			sessionStorage.removeItem("rooney");
			sessionStorage.removeItem("scholes");
			sessionStorage.removeItem("srh");
			sessionStorage.removeItem("torres");
			sessionStorage.removeItem("xavi");
			sessionStorage.setItem("username","");
			alert("successfully logged out");
			window.location.href="store.htm";
			
			}
}


  function onchangeEvent()
  {
	  var sessUserName=sessionStorage.getItem("username");
		var r=0;
	  if(sessUserName=="" || sessUserName==null)
		{
		alert("You need to login first!!");
		window.location.href="football.htm";
		r=1;
		}
	  return r;
	  }
 function checkIt()
{

	var r=onchangeEvent();
	if(r==0)
		{
	
	var changeCheck = document.getElementsByName('tee2');
	
	
	
	var checkedPlayer;
var r=0,s=0;
	for(var i=0; i<changeCheck.length; i++)
	{
		if(changeCheck[i].checked)
		{
		
			checkPlayer=changeCheck[i].value;
			sessionStorage.setItem(checkPlayer,"on");
			r=1;
		}
		else
			{
			checkPlayer=changeCheck[i].value;
			sessionStorage.setItem(checkPlayer,"off");
			s=1;
			}
	}
	if(r==1||s==1)
		{
		alert("Cart Updated");
		window.location.href="football.htm";
		}
	
                    try {
                    
                    } catch (e) {
                        if (e == QUOTA_EXCEEDED_ERR) {
                            alert('Quota exceeded!');
                        }
                    }
				for(i=0;i<changeCheck.length;i++)
			{
				changeCheck[i].checked=false;
				}
	
	}

}
</script>

</head>

<body>
<script>
</script>

</head>
<body>
<div id="login">
        <div id="loginwelcome">EXISTING USER LOGIN</div></b>
			
            
                <div id="logoutField"> <input type="submit" class="logout" value="LOGOUT" onClick="logout()" /></div>
		
		<p id="loginField">
                <input title="username" name="username" class="username" id="username" placeholder="Username" />
                <input name="password" type="password" class="password" title="password" id="password" placeholder="Password" />
               <input type="submit" class="submit" value="LOGIN" tabindex="3" onClick="getAllItems()" />
                
                <a href="register.htm" >New User? Register Here.</a></p>
               <a href="store.htm"><button type="button">Home</button></a>
               <a href="register.htm"><button type="button">Register</button></a>
                <a href="cricket.htm"><button type="button">IPL</button></a>
                <a href="nba.htm"><button type="button">NBA</button></a>
                <a href="football.htm"><button type="button">FOOTBALL</button></a>
                <a href="book.htm"><button type="button">CART</button></a>
                
                
            <script>
var sessUserName=sessionStorage.getItem("username");
var elem_login=document.getElementById("loginField");
var elem_logout=document.getElementById("logoutField");
if(sessUserName=="" || sessUserName==null)
	{
		elem_login.style.visibility="visible";
		elem_logout.style.visibility="hidden";
		
	}
else
{
	elem_login.style.visibility="hidden";
	elem_logout.style.visibility="visible";
	document.getElementById("loginwelcome").innerHTML="WELCOME "+ sessUserName;
}

</script>
        </div>
    </div>
<img src="football.jpg" height="400" width="1330"/>
<form>
<p>Andres Iniesta &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="iniesta.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="iniesta" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Xavi Hernandez &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="xavi.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="xavi" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Kaka &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="kaka.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="kaka" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Sergio Ramos &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="ramos.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="ramos" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Cristiano Ronaldo <img src="ronaldo.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="ronaldo" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Frank Lampard &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="lampard.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="lampard" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Juan Mata &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="mata.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="mata" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Fernando Torres &nbsp;&nbsp;&nbsp;<img src="torres.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="torres" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Wayne Rooney &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="rooney.jpeg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="rooney" class="check" onchange="onchangeEvent()">Choose<br></p>
<p>Paul Scholes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="scholes.jpg" height="150" width="150" align="center">&nbsp;<input type="checkbox" name="tee2" value="scholes" class="check" onchange="onchangeEvent()">Choose<br></p>
<br><br>
<br><br>

<script>


var i;
var changeCheck = document.getElementsByName('tee2');
var stateiniesta;
var statexavi;
var statekaka;
var stateramos;
var stateronaldo;
var statelampard;
var statemata;
var statetorres;
var staterooney;
var statescholes;
stateiniesta=sessionStorage.getItem("iniesta");
statexavi=sessionStorage.getItem("xavi");
statekaka=sessionStorage.getItem("kaka");
stateramos=sessionStorage.getItem("ramos");
stateronaldo=sessionStorage.getItem("ronaldo");
statelampard=sessionStorage.getItem("lampard");
statemata=sessionStorage.getItem("mata");
statetorres=sessionStorage.getItem("torres");
staterooney=sessionStorage.getItem("rooney");
statescholes=sessionStorage.getItem("scholes");

if(stateiniesta=="on")
	{
	changeCheck[0].checked=true;
	}
if(statexavi=="on")
{
changeCheck[1].checked=true;
}
if(statekaka=="on")
{
changeCheck[2].checked=true;
}
if(stateramos=="on")
{
changeCheck[3].checked=true;
}
if(stateronaldo=="on")
{
changeCheck[4].checked=true;
}
if(statelampard=="on")
{
	changeCheck[5].checked=true;
}
if(statemata=="on")
{
	changeCheck[6].checked=true;
}
if(statetorres=="on")
{
	changeCheck[7].checked=true;
}
if(staterooney=="on")
{
	changeCheck[8].checked=true;
}
if(statescholes=="on")
{
	changeCheck[9].checked=true;
}
</script>


<p id="team">
<input type="submit" name="submit" value="SAVE CHANGES" onClick="checkIt()">
</p>
<p>*items checked are already in the cart</p>

      <br><br>
<br><br>

</form>
</body>
</html>

